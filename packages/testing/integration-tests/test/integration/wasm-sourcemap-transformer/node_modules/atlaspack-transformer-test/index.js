const {Transformer} = require('@atlaspack/plugin');
const {default: SourceMap} = require('@parcel/source-map');

module.exports = new Transformer({
  transform({asset, options}) {
    let map = SourceMap.generateEmptyMap({
      projectRoot: options.projectRoot,
      sourceName: 'index.as.ts',
      sourceContent: `export function add(a : i32, b : i32): i32 {
  return b + a
}`,
    });
    asset.setMap(map);
    return [asset];
  },
});
